<div class="badgeDetails">
  <a class="arrowClose" (click)="onCancel()"><span class="material-icons">
      close
    </span></a>

  <div *ngIf="process" class="progress_animation certificat-vottun">
    <img [src]="progressGif" class="img-responsive">
  </div>
  <div *ngIf="!process">

    <div class="col-md-12">
      <div class="badgeTitle">
        <p>{{badgeDetail.title}}</p>
      </div>
    </div>

    <div class="badgeDetailedContainer">
      <div class="col-md-12">
        <div class="badgeDetailedHeight">
          <div class="row">
            <div class="col-md-4 col-sm-12">
              <div class="badgeDetailedLeft">
                <div class="badgeDetailImage">
                  <div *ngIf="badgeDetail.is_test" class="corner-ribbon top-left sticky"><span>Test</span></div>
                  <img id="{{'detail' + badgeDetail.id}}"
                    src="{{badgeDetail.uploads ? badgeDetail.uploads : 'assets/images/awaiting.gif'}}">
                  <div *ngIf="badgeDetail.is_expired || badgeDetail.is_invalidated" class="expired-label">
                    <img
                      src="{{badgeDetail.is_deleted ? 'assets/images/deleted-img.png' : badgeDetail.is_invalidated ? 'assets/images/invalidado.png' : badgeDetail.is_apple_wallet ? 'assets/images/expirado.png' : badgeDetail.badges === '13' ? 'assets/images/expirado.png': 'assets/images/course-expired.png'}}"
                      class="img-responsive">
                  </div>
                </div>

                <div class="badgeDetailInfo">
                  <h4>{{'organization' | translate}}:</h4>
                  <p>{{badgeDetail.organization || badgeDetail.issuer_firstname + ' ' +
                    badgeDetail.issuer_lastname}}</p>
                  <div *ngIf="badgeDetail.blockchain_client" class="detailedLabel">
                    <ul class="firstLabel">
                      <li>
                        <!-- <img src="assets/images/hyperledger.png"> -->
                        <img *ngIf="badgeDetail.nft_block_chain_img != null"
                          src="{{'https://vottun-backups.s3.amazonaws.com/' + badgeDetail.nft_block_chain_img}}">
                        <img *ngIf="badgeDetail.nft_block_chain_img === null" src="assets/images/hyperledger.png">
                      </li>
                      <li>
                        <p class="uppercase">
                          <label *ngIf="badgeDetail.blockchain_client && !badgeDetail.nft_block_chain_name">{{
                            badgeDetail.blockchain_client }}</label>
                          <label *ngIf="badgeDetail.nft_block_chain_name">{{
                            badgeDetail.nft_block_chain_name }}</label>
                          <a (click)="viewEvidence(badgeDetail);" matTooltip="{{'view' | translate}}"><i
                              class="fa fa-eye"></i></a>
                        </p>
                      </li>
                    </ul>
                  </div>
                  <hr>
                  <div *ngIf="apiService.user.register_type == '1'" class="shareToggle">
                    <div class="toggle-container">
                      <h5>{{'make_certificate_public' | translate}}</h5>
                      <mat-slide-toggle [checked]="badgeDetail.is_public"
                        (change)="toggleCertificateSearch(badgeDetail.id, $event.checked)"></mat-slide-toggle>
                      <span matTooltip="{{'public_enable_disable' | translate}}" class="headTooltip"><i
                          class="material-icons"> help_outline</i></span>
                    </div>
                  </div>
                  <div *ngIf="badgeDetail.collaborate">
                    <h4>{{'collaborate' | translate}}:</h4>
                    <p>{{badgeDetail.collaborate}}</p>
                  </div>
                  <div class="badgeDetailedImage"
                    *ngIf="badgeDetail.collaborate_img_1 || badgeDetail.collaborate_img_2">
                    <img
                      src="{{badgeDetail.collaborate_img_1 ? badgeDetail.collaborate_img_1 : 'assets/images/no-image.png'}}"
                      *ngIf="badgeDetail.collaborate_img_1" />
                    <img
                      src="{{badgeDetail.collaborate_img_2 ? badgeDetail.collaborate_img_2 : 'assets/images/no-image.png'}}"
                      *ngIf="badgeDetail.collaborate_img_2" />
                    <hr>
                  </div>
                  <div *ngIf="badgeDetail.others_collaborate">
                    <h4>{{'others_collaborators' | translate}}:</h4>
                    <p [innerHtml]="convertStyle(badgeDetail.others_collaborate)"></p>
                  </div>
                  <div *ngIf="badgeDetail.cert_type" class="tipo">
                    <hr>
                    <h4>{{'tipo' | translate}}: <span>{{badgeDetail.cert_type}}</span></h4>
                    <hr>
                  </div>
                </div>

                <div *ngIf="apiService.user.register_type == '1'">
                  <div class="detailedSharing">
                    <div class="pull-left">
                      <h4>{{'sharing' | translate}}:</h4>
                    </div>

                    <div class="pull-right">
                      <mat-slide-toggle matTooltip="{{'share_enable_disable' | translate}}"
                        [checked]="badgeDetail.is_student_social_media_share"
                        (change)="toggleShare(badgeDetail.id, $event.checked)"></mat-slide-toggle>
                    </div>
                  </div>


                  <ul class="detailedSharingList">
                    <li (click)="socialShare('facebook', badgeDetail.social_share_url, badgeDetail.facebook_content )">
                      <img src="assets/images/facebook.png">
                    </li>
                    <li (click)="socialShare('twitter', badgeDetail.social_share_url, badgeDetail.twitter_content )">
                      <img src="assets/images/twitter.png">
                    </li>
                    <li (click)="ngxSmartModalService.getModal('linkedinShare').open();">
                      <img src="assets/images/linkedin.png">
                    </li>
                    <li (click)="socialShare('whatsapp', badgeDetail.social_share_url, badgeDetail.whatsapp_content )">
                      <img src="assets/images/whatsapp.png">
                    </li>
                  </ul>



                  <div class="detailedDoc">
                    <ul (click)="ngxSmartModalService.getModal('EmailModal').open();">
                      <li><img src="assets/images/mail.png"></li>
                      <li>
                        <h5>{{'email_credential' | translate}}</h5>
                      </li>
                    </ul>
                  </div>

                  <div class="detailedDoc" *ngIf="badgeDetail.pdf_uploads">
                    <ul (click)="downloadPdf(badgeDetail.pdf_uploads)">
                      <li><img src="assets/images/pdf-red.png"></li>
                      <li>
                        <h5>{{'download_pdf' | translate}}</h5>
                      </li>
                    </ul>
                  </div>

                  <div class="detailedDoc" *ngIf="badgeDetail.uploads">
                    <a [href]="badgeDetail.uploads" target="_blank">
                      <ul>
                        <li><img src="assets/images/green-image.png"> </li>
                        <li>
                          <h5>{{'download_badge' | translate}}</h5>
                        </li>
                      </ul>
                    </a>
                  </div>

                  <div class="detailedDoc">
                    <ul (click)="ngxSmartModalService.getModal('embedModal').open();">
                      <li><img src="assets/images/code-file.png"></li>
                      <li>
                        <h5>{{'embed_credential' | translate}}</h5>
                      </li>
                    </ul>
                  </div>

                  <div class="col-md-6 col-sm-12" [hidden]="!badgeDetail.is_apple_wallet">
                    <button mat-mdc-button class="download-btn blue" (click)="addMobileWallet(badgeDetail.id)">
                      <i class="fa fa-code"></i> <span class="btn-text">{{'add_mobile_wallet' |
                        translate}}</span></button>
                  </div>
                </div>


                <div class="badgeLeftBottom">
                  <!-- <div class="detailedLabelEvidence">
                    <a (click)="viewEvidence(badgeDetail);">{{'view_evidence' | translate}}</a>
                  </div> -->
                  <div *ngIf="apiService.user.register_type == '2'">
                    <div class="text-center">
                      <button *ngIf="!badgeDetail.is_deleted" mat-mdc-button class="badge-delete"
                        matTooltip="{{'delete_achievement_details' | translate}}"
                        (click)="ngxSmartModalService.getModal('deletemyModal').open();ngxSmartModalService.setModalData({gdpr :badgeDetail.is_gdpr}, 'deletemyModal');">
                        <i class="fa fa-trash-o" style="font-size:18px;"></i> {{'delete' | translate}}
                      </button>
                      <button *ngIf="!badgeDetail.is_deleted" mat-mdc-button class="badge-delete expired-revoke"
                        matTooltip="{{badgeDetail.is_expired ? 'revoke' : 'experied' | translate}}"
                        (click)="experiedCertId(badgeDetail.id, badgeDetail.is_expired);">
                        <i class="fa fa-ban" style="font-size:18px;"></i>
                        {{ badgeDetail.is_expired ? 'revoke' : 'experied' | translate}}
                      </button>
                    </div>
                  </div>
                </div>


              </div>
            </div>

            <div class="col-md-8 col-sm-12">
              <div class="badgeDetailedRight">
                <div class="badgeDetailInfo">
                  <h4>{{ 'micro_certificate_issued' | translate }}:</h4>
                  <p class="uppercase"><b>{{badgeDetail.first_name}} {{badgeDetail.last_name}}</b></p>
                  <p class="ondate">on: {{badgeDetail.start_validity}}</p>
                  <h4 *ngIf="badgeDetail.end_validity" class="enddate">{{'end_date' | translate}}:
                    <span>{{badgeDetail.end_validity}}</span>
                  </h4>

                  <div *ngIf="badgeDetail.description" class="badgesContentBlock">
                    <hr>
                    <h4>{{'description' | translate}}:</h4>
                    <p [innerHtml]="convertStyle(badgeDetail.description)"></p>
                  </div>

                  <div *ngIf="badgeDetail.skills.length != 0" class="badgesContentBlock">
                    <h4>{{'skills' | translate}}:</h4>
                    <ul class="skillsLists">
                      <li *ngFor="let skill of badgeDetail.skills">{{skill | translate}}</li>
                    </ul>
                  </div>

                  <div *ngIf="badgeDetail.criteria" class="badgesContentBlock">
                    <h4>{{'criteria' | translate}}:</h4>
                    <p [innerHtml]="convertStyle(badgeDetail.criteria)"></p>
                  </div>

                  <div *ngIf="badgeDetail.testimonial" class="badgesContentBlock">
                    <h4>{{'testimonial' | translate}}:</h4>
                    <p [innerHtml]="badgeDetail.testimonial"></p>
                  </div>

                  <div class="badgeFooter">
                    <img src="assets/images/certtun-by-vottun.jpg" />
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<ngx-smart-modal #deletemyModal identifier="deletemyModal"
  (onAnyCloseEvent)="ngxSmartModalService.resetModalData('deletemyModal')">
  <div>
    <form [formGroup]="reasonForm" #resetFormID="ngForm"
      (ngSubmit)="reasonFormSubmit(reasonForm.value, deletemyModal.getData().countAchSelect)">
      <fieldset>
        <legend>{{'confirm_delete' | translate}}</legend>
        <div class="password-enter delete-container">
          <h5
            *ngIf="deletemyModal.getData() && deletemyModal.getData().countAchSelect && deletemyModal.getData().is_check_all">
            {{'count_of_selected_achievement' | translate}} : {{deletemyModal.getData().total_count}}</h5>
          <h5
            *ngIf="deletemyModal.getData() && deletemyModal.getData().countAchSelect && !deletemyModal.getData().is_check_all">
            {{'count_of_selected_achievement' | translate}} : {{deletemyModal.getData().countAchSelect}}</h5>
          <h5 *ngIf="deletemyModal.getData() && !deletemyModal.getData().countAchSelect">
            {{'hard_delete_info' | translate}}</h5>
          <h5>{{'are_you_sure' | translate}}?</h5>
          <br>

          <div class="row">
            <div class="col-sm-6">
              <mat-form-field appearance="outline">
                <mat-select formControlName="reason_type" placeholder="{{'pls_select_reason_type' | translate}}">
                  <mat-option (click)="getReasonType(1)" value='1'>{{'misspelling' | translate}}</mat-option>
                  <mat-option (click)="getReasonType(2)" value='2'>{{'issued_by_mistake' | translate}}</mat-option>
                  <mat-option (click)="getReasonType(3)" value='3'>{{'sanction' | translate}}</mat-option>
                  <mat-option (click)="getReasonType(4)" value='4'>{{'test' | translate}}</mat-option>
                  <mat-option (click)="getReasonType(5)" value='5'>{{'other' | translate}}</mat-option>
                </mat-select>
              </mat-form-field>
              <div class="text-danger text-left small" *ngIf="reasonErrorMsg">{{getreasonErrorMsg('reason_type') |
                translate}}</div>
            </div>

            <div *ngIf="hideOtherField" class="col-sm-6 delete-input">
              <mat-form-field appearance="outline">
                <input #otherTxt formControlName="reason" matInput class="form-control">
              </mat-form-field>
              <div class="text-danger text-left small" *ngIf="reasonErrorMsg">{{getreasonErrorMsg('reason') |
                translate}}</div>
            </div>
          </div>

        </div>
      </fieldset>
      <div class="form-group" style="float: right">
        <button type="submit" [disabled]="checkSubmit" mat-mdc-button class="password-submit"
          style="margin-right:10px">{{'yes'
          | translate}}</button>
        <button type="button" mat-mdc-button class="password-submit" (click)="deletemyModal.close()">{{'no' |
          translate}}</button>
      </div>
    </form>
  </div>
</ngx-smart-modal>

<ngx-smart-modal #infoAboutShare identifier="infoAboutShare" class="CertificateInfoPopup" [closable]='false'
  [escapable]='false' [dismissable]='false'>
  <div class="infoTooltip">
    <h4>{{'sharing_cert_header' | translate}}</h4>
    <p>{{'info_about_sharing_cert' | translate}}</p>

    <div class="infoTooltip-btn">
      <button type="button" (click)="callSharingSave(infoAboutShare.getData()?.id, infoAboutShare.getData()?.status);"
        mat-mdc-button class="btn btn-form-save">{{'ok' | translate}}</button>
      <!-- <button type="button" (click)="cancelShare();" mat-mdc-button
          class="btn btn-form-save">{{'cancel' | translate}}</button> -->
    </div>
  </div>
</ngx-smart-modal>


<div class="acheivement-popup certificate-view-model">
  <ngx-smart-modal #myModal identifier="myModal"
    (onAnyCloseEvent)="myTemplate = '';ngxSmartModalService.resetModalData('myModal')"
    [ngClass]="{'modelCertificate': modelOpen}">
    <div class="certificate-image-view" *ngIf="myModal.hasData()">
      <img style="width:100%" src="{{myModal.getData()}}">
      <br>
      <br>
      <div *ngIf="selectedCertificate.is_expired || selectedCertificate.is_invalidated" class="expired-label big">
        <img
          src="{{selectedCertificate.is_deleted ? 'assets/images/deleted-img.png' : selectedCertificate.is_invalidated ? 'assets/images/invalidado.png' : selectedCertificate.is_apple_wallet ? 'assets/images/expirado.png' : selectedCertificate.badges === '13' ? 'assets/images/expirado.png': 'assets/images/course-expired.png'}}"
          class="img-responsive">
      </div>
    </div>
  </ngx-smart-modal>
</div>

<ngx-smart-modal #myModal2 identifier="myModal2" (onAnyCloseEvent)="ngxSmartModalService.resetModalData('myModal2')"
  [ngClass]="{'modelEvidence': modelOpen}">
  <div *ngIf="myModal2.hasData()" style="text-align: center">
    <div class="view-evidence-title">
      <h4> {{'view_evidence_list' | translate}} </h4>
    </div>
    <div class="evidence-badge-view">
      <div *ngFor="let evidencelist of myModal2.getData(); let i = index" class="model-view-evidence">
        <a *ngIf="evidencelist.evid && evidencelist.evid !== 'None' && i < (myModal2.getData().length - 1)"
          href="{{evidencelist.evid}}" class="view-evidence-btn"
          matTooltip="{{(evidencelist.label)? evidencelist.label : 'view_evidence' | translate}}" mat-mdc-button
          target="_blank">
          <i class="fa fa-eye"></i> {{(evidencelist.label)? evidencelist.label : 'view_evidence' | translate}}
        </a>
        <a *ngIf="evidencelist.blockchainType !== 'oracle' && evidencelist.evid && evidencelist.evid !== 'None' && i === (myModal2.getData().length - 1)"
          href="{{evidencelist.evid}}" class="view-evidence-btn"
          matTooltip="{{(evidencelist.label)? evidencelist.label : 'view_evidence' | translate}}" mat-mdc-button
          target="_blank">
          <span *ngIf="evidencelist.transaction"><i class="fa fa-eye"></i> {{'view_blockchain' | translate}}</span>
          <span *ngIf="!evidencelist.transaction"><i class="fa fa-eye"></i>{{(evidencelist.label)? evidencelist.label :
            'view_evidence' | translate}}</span>
        </a>
        <div
          *ngIf="evidencelist.blockchainType === 'oracle' && evidencelist.evid && evidencelist.evid !== 'None' && i === (myModal2.getData().length - 1)">
          <span *ngIf="evidencelist.transaction">
            <h4>Blockchain Transaction ID :</h4>
            <p>{{evidencelist.transaction}}</p>
          </span>
        </div>
      </div>
      <div *ngIf="myModal2.getData()" class="model-view-evidence">
        <a *ngIf="finalCertiIpfsUri !== null && finalCertiIpfsUri !== 'None'" [href]="finalCertiIpfsUri"
          class="view-evidence-btn" matTooltip="{{ 'ipfs_image' | translate }}" mat-mdc-button target="_blank">
          <i class="fa fa-eye"></i> {{ 'ipfs_image' | translate }}
        </a>
      </div>
      <div *ngIf="myModal2.getData()" class="model-view-evidence">
        <a *ngIf="finalMetadataIpfsUri !== null && finalMetadataIpfsUri !== 'None'" [href]="finalMetadataIpfsUri"
          class="view-evidence-btn" matTooltip="{{ 'ipfs_meta_uri' | translate }}" mat-mdc-button target="_blank">
          <i class="fa fa-eye"></i> {{ 'ipfs_meta_uri' | translate }}
        </a>
      </div>
    </div>
  </div>
</ngx-smart-modal>
<!-- Badge detail popup start -->
<div class="acheivement-popup detailModelBox">
  <ngx-smart-modal id="#detailMOdal" #myModal4 identifier="myModal4"
    (onAnyCloseEvent)="ngxSmartModalService.resetModalData('myModal4')">
    <div *ngIf="myModal4.hasData()" style="text-align: center">
      <div class="" *ngIf="certiSelected">
        <div class="badge-details-modelpopup">
          <div class="col-md-12 col-sm-12">
            <div class="panel-heading">
              <div class="pull-right close-icons"></div>
            </div>

            <div *ngIf="selectedCertificate.transaction_address" class="panel-body">
              <div class="col-md-12 col-sm-12">
                <div class="col-md-12 col-sm-12">

                  <div class="badge-block">
                    <div class="badge-img-block">
                      <img src="{{selectedCertificate.logo}}" class="img-responsive">

                      <div class="badge_info">
                        <a (click)="ngxSmartModalService.getModal('CertificateInfoPopup').open()"><i
                            class="material-icons">
                            info </i> </a>
                      </div>
                    </div>

                  </div>
                </div>
                <div class="col-md-12 col-sm-12">
                  <div class="badge-block right-side issue_dateblock">
                    <h4>{{selectedCertificate.title}}</h4>
                    <h4>{{ selectedCertificate.first_name}}</h4>
                    <h6>{{'issued_on' | translate}} : {{selectedCertificate.originalIssueDate}}</h6>
                    <h6 *ngIf="selectedCertificate.end_validity">{{'expire_date' | translate}} :
                      {{selectedCertificate.end_validity_dateformat}}</h6>
                    <h6 *ngIf="selectedCertificate.start_date">{{'initial_date' | translate}} :
                      {{selectedCertificate.start_date}}</h6>
                    <h6 *ngIf="selectedCertificate.end_date">{{'final_date' | translate}} :
                      {{selectedCertificate.end_date}}</h6>
                  </div>

                </div>
                <div class="col-md-12 col-sm-12">
                  <div class="badge-block">
                    <h4>Blockchain Transaction ID</h4>
                    <p>{{selectedCertificate.transaction_address}}</p>
                  </div>
                </div>
                <div class="col-md-12 col-sm-12">
                  <div class="badge-block">
                    <h4>Blockchain Public Key</h4>
                    <p>{{selectedCertificate.studentAddress}}</p>
                  </div>
                </div>
                <div class="col-md-12 col-sm-12">
                  <div class="badge-block qr-code" *ngIf="selectedCertificate.qr_uploads">

                    <ul class="qr-user-list">
                      <li>
                        <img src="{{selectedCertificate.qr_uploads}}" class="img-responsive">

                        <div class="qr-user-delete">
                          <a target="_blank" href="{{selectedCertificate.qr_uploads}}"><i class="material-icons">
                              cloud_download
                            </i></a>
                        </div>
                      </li>
                    </ul>

                  </div>
                </div>
              </div>
              <div style="float: right; display: inline-block;text-align: right">
                <div style="width:100%;position: relative;display: inline-block;top:0px;">
                  <h4
                    style="font-family: 'Verdana', sans-serif;font-size: 0.9vw;display: inline-block;margin-top:0px;margin-bottom:0px;color:#000;padding-right:1vw;font-style: italic;font-weight: normal;">
                    <a [href]="siteName" target="_blank" style="color:#000;text-decoration:none;">{{'blockchained_by' |
                      translate}} {{appName}}</a>
                  </h4>
                </div>
              </div>
              <div *ngIf="selectedCertificate.is_expired" class="expired-label big">
                <img
                  src="{{selectedCertificate.is_deleted ? 'assets/images/deleted-img.png' : 'assets/images/course-expired.png'}}"
                  class="img-responsive">
              </div>
            </div>
            <div *ngIf="!selectedCertificate.transaction_address" class="panel-body">
              <div class="col-md-12 col-sm-12">
                <div class="col-md-12 col-sm-12">

                  <div class="badge-block">
                    <div class="badge-img-block">
                      <img src="{{selectedCertificate.logo}}" class="img-responsive">
                    </div>

                    <div class="badge_info">
                      <a (click)="ngxSmartModalService.getModal('CertificateInfoPopup').open()"><i
                          class="material-icons">
                          info </i> </a>
                    </div>
                  </div>

                </div>
                <div class="spacing"></div>
                <div class="col-md-12 col-sm-12">
                  <div class="badge-block right-side issue_dateblock">
                    <h4>{{selectedCertificate.title}}</h4>
                    <h4>{{ selectedCertificate.first_name}}</h4>
                    <h6>{{'issued_on' | translate}} : {{selectedCertificate.originalIssueDate}}</h6>
                    <h6 *ngIf="selectedCertificate.end_validity">{{'expire_date' | translate}} :
                      {{selectedCertificate.end_validity_dateformat}}</h6>
                    <h6 *ngIf="selectedCertificate.start_date">{{'initial_date' | translate}} :
                      {{selectedCertificate.start_date}}</h6>
                    <h6 *ngIf="selectedCertificate.end_date">{{'final_date' | translate}} :
                      {{selectedCertificate.end_date}}</h6>
                  </div>
                </div>
                <div class="spacing"></div>
                <div *ngIf="selectedCertificate.qr_uploads" class="col-md-12 col-sm-12">
                  <div class="badge-block qr-code">

                    <ul class="qr-user-list">
                      <li>
                        <img src="{{selectedCertificate.qr_uploads}}" class="img-responsive">

                        <div class="qr-user-delete">
                          <a target="_blank" href="{{selectedCertificate.qr_uploads}}"><i class="material-icons">
                              cloud_download
                            </i></a>
                        </div>
                      </li>
                    </ul>

                  </div>
                </div>
              </div>
              <div style="float: right; display: inline-block;text-align: right">
                <div style="width:100%;position: relative;display: inline-block;top:0px;">
                  <h4
                    style="font-family: 'Verdana', sans-serif;font-size: 0.9vw;display: inline-block;margin-top:0px;margin-bottom:0px;color:#000;padding-right:1vw;font-style: italic;font-weight: normal;">
                    <a [href]="siteName" target="_blank" style="color:#000;text-decoration:none;">{{'blockchained_by' |
                      translate}} {{appName}}</a>
                  </h4>
                </div>
              </div>
              <div *ngIf="selectedCertificate.is_expired" class="expired-label big">
                <img
                  src="{{selectedCertificate.is_deleted ? 'assets/images/deleted-img.png' : 'assets/images/course-expired.png'}}"
                  class="img-responsive">
              </div>
            </div>
            <br>
          </div>
        </div>
      </div>
    </div>
  </ngx-smart-modal>
</div>
<!-- Badge detail popup end -->
<div class="email-popup">
  <ngx-smart-modal #EmailModal identifier="EmailModal"
    (onAnyCloseEvent)="ngxSmartModalService.resetModalData('EmailModal')">
    <div class="view-evidence-title">
      <h4><i class="fa fa-envelope"></i> {{'share_email_cred' | translate}}</h4>
    </div>

    <div class="email-details">
      <input type="text" required email name="email" #email="ngModel" [(ngModel)]="emailID" class="form-control"
        placeholder="Enter Email Id">
      <div *ngIf="email.invalid && submitted">
        <div *ngIf="email.errors.required" class="text-danger small">
          {{'enter_email' | translate}}.
        </div>
        <div *ngIf="email.errors.email" class="text-danger small">
          {{'enter_valid_email' | translate}}.
        </div>
      </div>
      <br>
      <button class="btn btn-primary" *ngIf="emailProcess"> {{'processing' | translate}}... </button>
      <button mat-mdc-button class="email-submit" *ngIf="!emailProcess"
        (click)="submitted = true; shareEmail(badgeDetail.id, email)">{{'submit'
        | translate}}</button>
    </div>
  </ngx-smart-modal>
</div>

<div class="email-popup embed-popup">
  <ngx-smart-modal #embedModal identifier="embedModal">
    <div class="view-evidence-title">
      <h4><i class="fa fa-code"></i> {{'email_credential' | translate}}</h4>
    </div>
    <div class="col-md-12 col-sm-12">
      {{'choose_from_options' | translate}}
      <div class="embed-btn-block">
        <button mat-mdc-button class="embed-btn" [ngClass]="{active: activeTab === 'gmail'}"
          (click)="activeTab = 'gmail'">{{'gmail_signature'
          | translate}}</button>
        <button mat-mdc-button class="embed-btn" [ngClass]="{active: activeTab === 'outlook'}"
          (click)="activeTab = 'outlook'">{{'outlook_signature'
          | translate}}</button>
        <button mat-mdc-button class="embed-btn" [ngClass]="{active: activeTab === 'embedimg'}"
          (click)="activeTab = 'embedimg'">{{'embed_image'
          | translate}}</button>
        <button mat-mdc-button class="embed-btn" [ngClass]="{active: activeTab === 'embedfullpage'}"
          (click)="activeTab = 'embedfullpage'">{{'embed_fullpage'
          | translate}}</button>
      </div>

      <div class="" *ngIf="activeTab === 'gmail'">
        <ul class="embed-list">
          <li>1. {{'open_gmail' | translate}}</li>
          <li>2. {{'scroll_down' | translate}}</li>
          <li>3. {{'click_insert_image' | translate}}</li>
          <li>4. {{'paste_image_url' | translate}}</li>
          <li>5. {{'signature_selection' | translate}} </li>
          <li>6. {{'click_on_link_icon' | translate}}</li>
          <span>{{baseUrl}}/badgedetail?id={{badgeDetail.id}}</span>
          <li>7. {{'now_save' | translate}}</li>
        </ul>

        <div class="col-md-12 col-sm-12">
          <div class="form-group">
            <div class="col-md-12 col-sm-12">
              <label><i class="fa fa-id-badge"></i> {{'badge_image' | translate}}</label>
            </div>
            <div class="col-md-9 col-sm-10">
              <input type="text" #badgeimg readonly value="{{badgeDetail.logo}}" class="form-control">
            </div>
            <div class="col-md-3 col-sm-2">
              <span><a (click)="copyText(badgeimg)"><i class="fa fa-files-o" aria-hidden="true"></i> {{'copy_text' |
                  translate}}</a></span>
            </div>
          </div>
        </div>

        <div class="col-md-12 col-sm-12">
          <div class="form-group">
            <div class="col-md-12 col-sm-12">
              <label><i class="fa fa-certificate"></i> {{'certificate_image' | translate}}</label>
            </div>
            <div class="col-md-9 col-sm-10">
              <input type="text" #pdfurl readonly value="{{badgeDetail.uploads}}" class="form-control">
            </div>
            <div class="col-md-3 col-sm-2">
              <span><a (click)="copyText(pdfurl)"><i class="fa fa-files-o" aria-hidden="true"></i> {{'copy_text' |
                  translate}}</a></span>
            </div>
          </div>
        </div>
      </div>
      <div class="" *ngIf="activeTab === 'outlook'">
        <ul class="embed-list">
          <li>1. {{'open_outlook_and_click' | translate}}</li>
          <li>2. {{'add_new_signature' | translate}}</li>
          <li>3. {{'right_click_download' | translate}}</li>
          <li>4. {{'insert_image_sign' | translate}}</li>
          <li>5. {{'link_to_credentials' | translate}} </li>
          <span>{{baseUrl}}/badgedetail?id={{badgeDetail.id}}</span>
          <li>6. {{'now_save' | translate}}</li>
        </ul>
        <div class="col-md-6 col-sm-6">
          <div class="embed-image">
            <img src="{{badgeDetail.uploads}}" style="max-width:50%;height:auto;display:inline-block;"
              class="img-responsive">
          </div>
        </div>
        <div class="col-md-6 col-sm-6">
          <div class="embed-image">
            <img src="{{badgeDetail.uploads}}" style="max-width:50%;height:auto;display:inline-block;"
              class="img-responsive">
          </div>
        </div>
        <h5
          style="font-style: italic;margin:10px 0px;text-align: center;width:100%;display:inline-block;position:relative;">
          {{'download_sign_image'
          | translate}}</h5>
      </div>
      <div *ngIf="activeTab === 'embedimg'">
        <pre class="col-md-12 col-sm-12">{{'paste_image_credentials' | translate}}</pre>
        <div class="col-md-12 col-sm-12">
          <div class="form-group">
            <div class="col-md-12 col-sm-12">
              <label><i class="fa fa-id-badge"></i> {{'badge_image' | translate}}</label>
            </div>
            <div class="col-md-9 col-sm-10">
              <input type="text" #badgeimg readonly value="{{badgeDetail.logo}}" class="form-control">
            </div>
            <div class="col-md-3 col-sm-2">
              <span><a (click)="copyText(badgeimg)"><i class="fa fa-files-o" aria-hidden="true"></i> {{'copy_text' |
                  translate}}</a></span>
            </div>
          </div>
        </div>

        <div class="col-md-12 col-sm-12">
          <div class="form-group">
            <div class="col-md-12 col-sm-12">
              <label><i class="fa fa-certificate"></i> {{'certificate_image' | translate}}</label>
            </div>
            <div class="col-md-9 col-sm-10">
              <input type="text" #pdfurl readonly value="{{badgeDetail.uploads}}" class="form-control">
            </div>
            <div class="col-md-3 col-sm-2">
              <span><a (click)="copyText(pdfurl)"><i class="fa fa-files-o" aria-hidden="true"></i> {{'copy_text' |
                  translate}}</a></span>
            </div>
          </div>
        </div>
      </div>
      <div *ngIf="activeTab === 'embedfullpage'">
        <textarea class="form-control" readonly rows="6">{{'fullpage_embedding' | translate}}
  
  {{'embed_credential_blog' | translate}}
          </textarea>
        <br>
        <br>
        <div class="col-md-6">
          <label>{{'width' | translate}}</label>
          <input class="form-control" name="width" [(ngModel)]="width" type="text">
        </div>
        <div class="col-md-6">
          <label>{{'height' | translate}}</label>
          <input class="form-control" name="height" [(ngModel)]="height" type="text">
        </div>
        <div class="col-md-12"><br>
          <textarea class="form-control" readonly rows="8">
              <iframe
                src="{{baseUrl}}/badgedetail?id={{badgeDetail.id}}"
                width="{{width}}px"
                height="{{height}}px"
                frameborder="0"
                allowfullscreen>
              </iframe>
            </textarea>
        </div>
      </div>
      <div class="col-md-12 col-sm-12"><br>
        <button class="btn btn-default" style="float:right"
          (click)="ngxSmartModalService.getModal('embedModal').close()">{{'close'
          | translate}}</button>
      </div>
    </div>
  </ngx-smart-modal>
</div>

<div class="linkedin-popup">
  <ngx-smart-modal #linkedinShare identifier="linkedinShare"
    (onAnyCloseEvent)="ngxSmartModalService.resetModalData('linkedinShare')">
    <div class="view-evidence-title">
      <h4><i class="fa fa-linkedin"></i> {{'add_to_linkedin_profile' | translate}}</h4>
    </div>
    <div class="">
      <div class="form-group">
        <div class="col-md-12 col-sm-12">
          <label>{{'content' | translate}}</label>
        </div>
        <div class="col-md-9 col-sm-10">
          <input type="text" [readonly]="true" name="content" #content [ngModel]="badgeDetail.linkedin_content"
            class="form-control">
        </div>
        <div class="col-md-3 col-sm-2">
          <span><a (click)="copyText(content)"><i class="fa fa-files-o" aria-hidden="true"></i> {{'copy_text' |
              translate}}</a></span>
        </div>
      </div>

      <div class="col-md-12 col-sm-12 linkedin-savebtn form-group"><br>
        <button class="social-share-linkedin" mat-mdc-button
          (click)="socialShare('linkedin', badgeDetail.linkedin_social_share_url, badgeDetail.linkedin_content )"
          type="button"> <i class="fa fa-linkedin"></i> {{'linkedin' | translate}}</button>
      </div>
    </div>
  </ngx-smart-modal>
</div>

<ngx-smart-modal #CertificateInfoPopup identifier="CertificateInfoPopup" class="CertificateInfoPopup">
  <h4>{{'cert_info' | translate}}</h4>
  <p>{{'cert_info_content' | translate}}</p>
</ngx-smart-modal>